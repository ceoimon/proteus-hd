<!DOCTYPE html>
<!-- Wire, Copyright (C) 2016 Wire Swiss GmbH -->
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Demo</title>
    <link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon" />
    <!-- dependencies -->
    <script src="https://bowercdn.net/c/libsodium.js-latest/dist/browsers-sumo/sodium.js"></script>
    <script src="https://unpkg.com/wire-webapp-cbor/dist/window/wire-webapp-cbor.js"></script>
    <!-- <script src="path/to/proteus.js"></script> -->
    <script src="https://unpkg.com/proteus-hd/dist/proteus.js"></script>
  </head>
  <body>
    <script>
      const identity = Proteus.keys.IdentityKeyPair.new();
      const fingerprint = identity.public_key.fingerprint();
      const serializedIdentity = identity.serialise();
      const encodedSerializedIdentity = sodium.to_base64(new Uint8Array(serializedIdentity));

      const messageFingerprint = `Identity Test (Fingerprint): ${fingerprint}`;
      const messageSerialization = `Identity Test (Serialization): ${encodedSerializedIdentity}`;

      document.write(`${messageFingerprint}<br/>${messageSerialization}`);
    </script>
  </body>
</html>
